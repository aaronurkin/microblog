<!-- Main Content-->
<main class="mb-4">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="my-5">
                    <h1>Sign up</h1>
                    <h2>and share your thoughts</h2>
                    <% if notice %>
                        <div class="d-none" id="submitSuccessMessage">
                            <div class="text-center mb-3">
                                <div class="fw-bolder">
                                    <%= notice %>
                                </div>
                            </div>
                        </div>
                    <% end %>
                    <p>Already have an account? Please <%= link_to "sign in", signin_path %></p>
                    <%= form_with(model: @user, url: register_path, method: :post) do |form| %>
                        <% if @user.errors.any? %>
                            <div style="color: red">
                                <h2><%= pluralize(@user.errors.count, "error") %> prohibited you from sing in:</h2>
                        
                                <ul>
                                    <% @user.errors.each do |error| %>
                                        <li>
                                            <div class="text-center text-danger mb-3">
                                                <%= error.full_message %>
                                            </div>
                                        </li>
                                    <% end %>
                                </ul>
                            </div>
                        <% end %>
                        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
                        <div class="form-floating">
                            <%= form.text_field :full_name, placeholder: :full_name, :class => "form-control", :data => { :sb_validations => "required" } %>
                            <%= form.label :full_name %>
                        </div>
                        <div class="form-floating">
                            <%= form.text_field :nickname, placeholder: :nickname, :class => "form-control", :data => { :sb_validations => "required" } %>
                            <%= form.label :nickname %>
                        </div>
                        <div class="form-floating">
                            <%= form.text_field :email, placeholder: :email, :class => "form-control", :type => "email", :data => { :sb_validations => "required,email" } %>
                            <%= form.label :email %>
                        </div>
                        <div class="form-floating">
                            <%= form.password_field :password, placeholder: :password, :class => "form-control", :data => { :sb_validations => "required" } %>
                            <%= form.label :password %>
                        </div>
                        <br />
                        <button class="btn btn-primary text-uppercase" type="submit">Sign up</button>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</main>
